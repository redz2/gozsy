# sync
1. 相比于 Go 语言宣扬的“用通讯的方式共享数据”，通过共享数据的方式来传递信息和协调线程运行的做法其实更加主流
    * 竞态条件: 一旦数据被多个线程共享，那么就很可能会产生争用和冲突的情况，这往往会破坏共享数据的一致性
    * 同步: 控制多个线程对共享资源的访问，来确保多个并发运行的线程对这个共享资源的访问是完全串行的
    ```
    mu.Lock() // 拿锁，拿不到锁会阻塞
    _, err := writer.Write([]byte(data))
    if err != nil {
        log.Printf("error: %s [%d]", err, id)
    }
    mu.Unlock() // 还锁
    ```