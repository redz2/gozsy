# 中间件
1. 使用中间件剥离非业务逻辑
    * 如何实现？通过装饰器给函数添加功能
2. 更优雅的中间件写法
    * pipeline: 防止函数嵌套，通过chain函数循环调用middleware
    * 为啥可以链式调用？中间件输如输出都是http.Handler
3. 哪些事情适合在中间件做？
    * compress: 对http的响应体进行压缩处理
    * heartbeat: 设置特殊的路由，比如探活接口
    * logger: 打印请求处理日志
    * realip: 从请求头中获取真实ip
    * requestid: 为本次请求生成单独的requestid，链路追踪
    * timeout: 设置超时时间
    * throttler: 限流